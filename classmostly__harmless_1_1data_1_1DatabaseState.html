<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MostlyHarmless: mostly_harmless::data::DatabaseState Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MostlyHarmless<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classmostly__harmless_1_1data_1_1DatabaseState.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classmostly__harmless_1_1data_1_1DatabaseState-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mostly_harmless::data::DatabaseState Class Reference<span class="mlabels"><span class="mlabel final">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Represents a connection to a sqlite database.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mostlyharmless__DatabaseState_8h_source.html">mostlyharmless_DatabaseState.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53d3cb498b70d0fa0abbfc18e9341fb0" id="r_a53d3cb498b70d0fa0abbfc18e9341fb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53d3cb498b70d0fa0abbfc18e9341fb0">DatabaseState</a> (const <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;)=delete</td></tr>
<tr class="separator:a53d3cb498b70d0fa0abbfc18e9341fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80ef6ec41de94383c6d4055d79159c01" id="r_a80ef6ec41de94383c6d4055d79159c01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80ef6ec41de94383c6d4055d79159c01">DatabaseState</a> (<a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&amp;other) noexcept</td></tr>
<tr class="separator:a80ef6ec41de94383c6d4055d79159c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f9574e205c16ac9ff78d47d513fded" id="r_a17f9574e205c16ac9ff78d47d513fded"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17f9574e205c16ac9ff78d47d513fded">operator=</a> (const <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;)=delete</td></tr>
<tr class="separator:a17f9574e205c16ac9ff78d47d513fded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a79eedc1e729a6abe5c8d57bcfbca4" id="r_a30a79eedc1e729a6abe5c8d57bcfbca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30a79eedc1e729a6abe5c8d57bcfbca4">operator=</a> (<a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&amp;other) noexcept</td></tr>
<tr class="separator:a30a79eedc1e729a6abe5c8d57bcfbca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d2a48d31a5ce5c1a59f7e05e404e2f" id="r_a15d2a48d31a5ce5c1a59f7e05e404e2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15d2a48d31a5ce5c1a59f7e05e404e2f">~DatabaseState</a> () noexcept</td></tr>
<tr class="separator:a15d2a48d31a5ce5c1a59f7e05e404e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ba3f6eb1cbfcf0e7fa5151fea7e5cd" id="r_a94ba3f6eb1cbfcf0e7fa5151fea7e5cd"><td class="memTemplParams" colspan="2">template&lt;DatabaseStorageType T&gt; </td></tr>
<tr class="memitem:a94ba3f6eb1cbfcf0e7fa5151fea7e5cd"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a94ba3f6eb1cbfcf0e7fa5151fea7e5cd">set</a> (std::string_view name, const T &amp;toSet) -&gt; void</td></tr>
<tr class="separator:a94ba3f6eb1cbfcf0e7fa5151fea7e5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66302a1cba081ec5a08684263c418f2" id="r_ae66302a1cba081ec5a08684263c418f2"><td class="memTemplParams" colspan="2">template&lt;DatabaseStorageType T&gt; </td></tr>
<tr class="memitem:ae66302a1cba081ec5a08684263c418f2"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae66302a1cba081ec5a08684263c418f2">get</a> (std::string_view name) -&gt; std::optional&lt; T &gt;</td></tr>
<tr class="separator:ae66302a1cba081ec5a08684263c418f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac1bf043b80e1fe64df7a936dea445559" id="r_ac1bf043b80e1fe64df7a936dea445559"><td class="memItemLeft" align="right" valign="top">static auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1bf043b80e1fe64df7a936dea445559">try_create</a> (const std::filesystem::path &amp;location, const std::vector&lt; std::pair&lt; std::string, <a class="el" href="namespacemostly__harmless_1_1data.html#a055629b370f5f824bf6a28ebd10ba983">DatabaseValueVariant</a> &gt; &gt; &amp;initialValues) -&gt; std::optional&lt; <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &gt;</td></tr>
<tr class="separator:ac1bf043b80e1fe64df7a936dea445559"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a connection to a sqlite database. </p>
<p>The rationale behind this class' existence is to provide a unified "standard" layout for a plugin's global state - things like settings, statistics or anything else you might need to share between all instances. It doesn't directly support any kind of IPC notifiers, and is assumed that if a user wants synchronisation between instances using this class, they'll either poll the values they need on a timer, or set up their own filewatching mechanism.</p>
<p>The database schema itself is fairly generic, a single <code>DATA</code> table, with <code>NAME</code>, <code>TEXT_VALUE</code>, <code>BOOL_VALUE</code>, <code>INT_VALUE</code>, <code>FLOAT_VALUE</code> and `DOUBLE_VALUE fields. get and set are templated, and will get or set the field associated with the given template type - so it's important to ensure you retrieve the correct value type for a field you've previously set. The fields default to "", false, 0, 0.0f and 0.0 respectively. The connection is set to WAL mode, to allow concurrent access. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a53d3cb498b70d0fa0abbfc18e9341fb0" name="a53d3cb498b70d0fa0abbfc18e9341fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d3cb498b70d0fa0abbfc18e9341fb0">&#9670;&#160;</a></span>DatabaseState() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mostly_harmless::data::DatabaseState::DatabaseState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Non Copyable, as the database connection pointer will be closed on destruction... </p>

</div>
</div>
<a id="a80ef6ec41de94383c6d4055d79159c01" name="a80ef6ec41de94383c6d4055d79159c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80ef6ec41de94383c6d4055d79159c01">&#9670;&#160;</a></span>DatabaseState() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mostly_harmless::data::DatabaseState::DatabaseState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Moveable, nulls <code>other</code>'s connection pointer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The moved-from <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html" title="Represents a connection to a sqlite database.">DatabaseState</a> instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15d2a48d31a5ce5c1a59f7e05e404e2f" name="a15d2a48d31a5ce5c1a59f7e05e404e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d2a48d31a5ce5c1a59f7e05e404e2f">&#9670;&#160;</a></span>~DatabaseState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mostly_harmless::data::DatabaseState::~DatabaseState </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The internal database handle is closed if not null. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae66302a1cba081ec5a08684263c418f2" name="ae66302a1cba081ec5a08684263c418f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66302a1cba081ec5a08684263c418f2">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;DatabaseStorageType T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto mostly_harmless::data::DatabaseState::get </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> -&gt; std::optional&lt;T&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to retrieve the value of a named field in the database. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>A std::string, bool, any int, float, or double. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the database field to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the retrieved database field if found, nullopt otherwise. </dd></dl>

</div>
</div>
<a id="a17f9574e205c16ac9ff78d47d513fded" name="a17f9574e205c16ac9ff78d47d513fded"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f9574e205c16ac9ff78d47d513fded">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp; mostly_harmless::data::DatabaseState::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Non Copyable, as the database connection pointer will be closed on destruction... </p>

</div>
</div>
<a id="a30a79eedc1e729a6abe5c8d57bcfbca4" name="a30a79eedc1e729a6abe5c8d57bcfbca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a79eedc1e729a6abe5c8d57bcfbca4">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp; mostly_harmless::data::DatabaseState::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>other</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Moveable, nulls <code>other</code>'s connection pointer </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>The moved-from <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html" title="Represents a connection to a sqlite database.">DatabaseState</a> instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>*this </dd></dl>

</div>
</div>
<a id="a94ba3f6eb1cbfcf0e7fa5151fea7e5cd" name="a94ba3f6eb1cbfcf0e7fa5151fea7e5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ba3f6eb1cbfcf0e7fa5151fea7e5cd">&#9670;&#160;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;DatabaseStorageType T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto mostly_harmless::data::DatabaseState::set </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T &amp;</td>          <td class="paramname"><span class="paramname"><em>toSet</em></span>&#160;) -&gt; void </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the value of a database entry with a matching name. If not found, will first create the entry. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>A std::string, bool, any int, float, or double </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the field to set. </td></tr>
    <tr><td class="paramname">toSet</td><td>The value to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac1bf043b80e1fe64df7a936dea445559" name="ac1bf043b80e1fe64df7a936dea445559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1bf043b80e1fe64df7a936dea445559">&#9670;&#160;</a></span>try_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto mostly_harmless::data::DatabaseState::try_create </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>location</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; std::string, <a class="el" href="namespacemostly__harmless_1_1data.html#a055629b370f5f824bf6a28ebd10ba983">DatabaseValueVariant</a> &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>initialValues</em></span>&#160;) -&gt; std::optional&lt;<a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a>&gt; </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span><span class="mlabel nodiscard">nodiscard</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to create a new <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html" title="Represents a connection to a sqlite database.">DatabaseState</a> instance. On construction, will attempt to open the database passed to location, and establish a connection to it if it exists. If it doesn't exist, creates the database, and a table to store user data in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">location</td><td>A path to the database to create or open. </td></tr>
    <tr><td class="paramname">initialValues</td><td>A vector containing the initial values to add to the database if it didn't exist. If the database DID exist, but any of the keys in the vector aren't present, they'll be added with the values specified and existing items will be skipped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html" title="Represents a connection to a sqlite database.">DatabaseState</a> instance on success, nullopt otherwise. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/mostly-harmless/mostly-harmless/include/mostly_harmless/data/<a class="el" href="mostlyharmless__DatabaseState_8h_source.html">mostlyharmless_DatabaseState.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemostly__harmless.html">mostly_harmless</a></li><li class="navelem"><a class="el" href="namespacemostly__harmless_1_1data.html">data</a></li><li class="navelem"><a class="el" href="classmostly__harmless_1_1data_1_1DatabaseState.html">DatabaseState</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
